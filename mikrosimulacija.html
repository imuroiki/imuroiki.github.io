<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        <title>Kosi hitac</title>
        
<!--Komentar u HTML-u-->        
        <meta name="viewport" content="width=device-width, initial-scale=1">
<!--Povezuje stylesheet kao odvojeni file pod nazivom estetika.css, koji pozadini daje gradijent-->  
        <link rel="stylesheet" href="https://imuroiki.github.io/estetika.css">

        <noscript><link rel="stylesheet" href="https://imuroiki.github.io/style.css" /></noscript>
    </head>
    <body class="" style="font-family:Arial;
width: 700px;
margin-left:auto;
margin-right:auto;">
        
<title>Kosi hitac</title>

<style>


/*Komentar u css-u*/ 
/*Tag <style> dopušta dodavanje stila elementima sa ID-om .ID*/ 
    
    .table {
        border: 1px solid black;
        width: 500;
    }
    .td {

        /*specifikator za tabelu*/
        width: 100;
        text-align: center;
    }


    .button1 {
        color: black;
        background:  #F0FFF0;
        border: 1px solid white;
        font-weight: bold;
        font-size: 20pt;
        height: 50;
        border-radius: 10px;
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 
            0 6px 20px 0 rgba(0,0,0,0.19);
    }

        .button2 {
        color: black;
        background:  #F0FFF0;
        border: 1px solid white;
        font-weight: bold;
        font-size: 20pt;
        height: 50;
        border-radius: 10px;
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 
            0 6px 20px 0 rgba(0,0,0,0.19);
    }

        .button3 {
        color: black;
        background:  #F0FFF0;
        border: 1px solid white;
        font-weight: bold;
        font-size: 20pt;
        height: 50;
        border-radius: 10px;
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 
            0 6px 20px 0 rgba(0,0,0,0.19);
    }

/*Kada se klikne dugme, da bude adekvatne boje*/
    .button1:active{
        color: green;
    }
    .button2:active{
        color: red;
    }
    .button3:active{
        color: blue;
    }


</style>







<h1 style="font-size:30px;
text-align:center; margin-block-start: 0.4em;
    margin-block-end: 0em; color:#000000;">Kosi hitac</h1>
<div>

           
<br>
<table>
    <tbody>
    <tr>

        <td>


<!--Dio pod sljedećim <div> </div> takom tj <svg> tag služi za  crtanje vektorske mreže u canvas-u, te je specificiram atributom viewBox-->

<div style="width:20px;height:300px margin-left:auto; position:absolute; 
margin-right:auto;">
  <svg viewBox="180 0 200 320" width="700" height="400">
    <defs>
      <pattern id="smallGrid" width="8" height="8" patternUnits="userSpaceOnUse">
        <path d="M 8 0 L 0 0 0 8" fill="none" stroke="gray" stroke-width="0.5"></path>
      </pattern>
      <pattern id="grid" width="80" height="80" patternUnits="userSpaceOnUse">
        <rect width="100" height="200" fill="url(#smallGrid)"></rect>
        <path d="M 80 0 L 0 0 0 80" fill="none" stroke="gray" stroke-width="1"></path>
      </pattern>
    </defs>

    <rect width="700" height="400" fill="url(#grid)"></rect>
  </svg>
</div>

<canvas style="position:relative;" id="IDCanvas" width="700" height="400">
            </canvas>

        </td>

            <td>
        <table>
            <tbody>



                <tr><td style=" color: black;
        background:  #F0FFF0;
        border: 1px solid white;
        font-size: 14pt;
        height: 50;
        border-radius: 10px;
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 
            0 6px 20px 0 rgba(0,0,0,0.19)padding-bottom:1em">

<!--Vrijednosti za Domet, Maksimalnu Brzinu i Vrijeme pada-->

Domet(m): <span style=" color: black; background: #F0FFF0; font-weight: bold;
        font-size: 13pt;" id="IDDomet">702.96</span>
                
                </td></tr>
                 

                <tr><td style=" color: black;
        background:  #F0FFF0;
        border: 1px solid white;
        font-size: 14pt;
        height: 50;
        border-radius: 10px;
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 
            0 6px 20px 0 rgba(0,0,0,0.19)padding-bottom:1em">

Maksimalna visina(m): <span style=" color: black; background: #F0FFF0; font-weight: bold;
        font-size: 13pt;" id="IDVisina">175.74</span>
                
                </td></tr>


                <tr><td style=" color: black;
        background:  #F0FFF0;
        border: 1px solid white;
        font-size: 14pt;
        height: 50;
        border-radius: 10px;
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 
            0 6px 20px 0 rgba(0,0,0,0.19)padding-bottom:1em">

Vrijeme pada(s): <span style=" color: black; background: #F0FFF0; font-weight: bold;
        font-size: 13pt;" id="IDVrijemePada">11.98</span>
                
                </td></tr>
                
            
        </tbody>
    </table>
    </td>




<!--Dugmad za Ispaljivanje, Zaustavljanje i Resetovanje-->

</tr><tr><td style="padding: 0.8em" ;="" align="center">
<button class="button1" onclick="FunkcijaIspali()">Ispali</button>
<button class="button2" onclick="FunkcijaZaustavi()">Zaustavi</button>
<button class="button3" onclick="FunkcijaResetuj()">Resetuj</button>

    </td></tr>
<tr style="max-width: 500"><td style=" color: black;
        background:  #F0FFF0;
        border: 1px solid white;
        font-size: 14pt;
        height: 50;
        border-radius: 10px;
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 
            0 6px 20px 0 rgba(0,0,0,0.19)padding-bottom:1em">
        Početna brzina = <span style=" color: black; background: #F0FFF0; font-weight: bold;
        font-size: 13pt;" id="IDPocetnaBrzina">83</span>m/s 
        <input id="SliderZaPocetnuBrzinu" type="range" min="0" max="83" step="1" value="83" onchange="PokaziPocetnuBrzinu()" oninput="PokaziPocetnuBrzinu()" style="width:400px;">

        <!--IDPocetnaBrzina je polje u html u koje se unosi vrijednost broja iz JS, a taj broj je vrijednost SliderZaPocetnuBrzinu-a jer on poziva funkciju i sa njom interagira tako da se vrijednost mijenja pri pomijeranju slider-a-->
</td></tr>

<tr><td style=" color: black;
        background:  #F0FFF0;
        border: 1px solid white;
        font-size: 14pt;
        height: 50;
        border-radius: 10px;
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 
            0 6px 20px 0 rgba(0,0,0,0.19)padding-bottom:1em">
        Početni ugao = <span style=" color: black; background: #F0FFF0; font-weight: bold;
        font-size: 13pt;" id="IDUgao">45</span>° 
        <input id="SliderZaUgao" type="range" min="0" max="90" step="1" value="45" onchange="PokaziUgao()" oninput="PokaziUgao()" style="width:400px;">
</td></tr>

        





<script>


//Globalne varijable

var Canvas,CanvasContext;
var SliderZaPocetnuBrzinu = document.getElementById("SliderZaPocetnuBrzinu");
var IDPocetnaBrzina = document.getElementById("IDPocetnaBrzina");
var SliderZaUgao = document.getElementById("SliderZaUgao");
var IDUgao = document.getElementById("IDUgao");
var DometVr;
var MaxVisinaVr;
var VrijemePadaVr;
var v0; //pocetna brzina
var alfa; // pocetni ugao
var tg_alfa, cos_alfa, sin_alfa, vc2, v0x, v0y;
var UbrzanjeZemljineGravitacije =9.81;
var dtb = .25;
var xn, yn, tn, yTacka;
var boja;





Pripremi(); 


var Vrijeme = 60;   //vrijeme za koje projektil nacrta, veci broj podrazmijeva duzi proces izcrtavanja
var Brojac = null; // vrijeme kada prestane crtati


function Pripremi() {
//pozivamo canvas ovdje
    Canvas = document.getElementById("IDCanvas");
    CanvasContext = Canvas.getContext("2d");
    Canvas.width = 700;
    Canvas.height = 400;

    CanvasContext.rect(0,0,Canvas.width,Canvas.height); //koordinatni sistem
    CanvasContext.stroke();

    // initialize variables
    //
InicijalizirajVarijable();
}

function InicijalizirajVarijable() {
    v0 = Number(SliderZaPocetnuBrzinu.value);
    alfa=Number(SliderZaUgao.value);
    tg_alfa = Math.tan(alfa*Math.PI/180);
    cos_alfa = Math.cos(alfa*Math.PI/180);
    sin_alfa = Math.sin(alfa*Math.PI/180);
    vc2 = v0*v0*cos_alfa*cos_alfa;

    // Inicijalizacija varijabli brojaca
    //
    tn = 0;
    v0x = v0*cos_alfa;
    v0y = v0*sin_alfa;
    yTacka = v0y;
    xn = 0;
    yn = 0;
}

// Funkcija za numericku integraciju za aproksimaciju kretanja; prvo nacrta vrijednosti x,y a onda racuna sljedece vrijednosti i crta ih
function IzracunajNacrtaj() {

    if ( (xn > Canvas.width) || (yn < 0) ) FunkcijaZaustavi();
    NacrtajTacku(CanvasContext,xn,Canvas.height-yn,3,boja);

        // RK2
        var yTackaTacka = -UbrzanjeZemljineGravitacije;
        var yTacka_Novo = yTacka + dtb*yTackaTacka;
        var yTacka_Novo_rk2 = yTacka + 0.5*dtb*yTackaTacka;
        var y_Novo = yn + dtb*yTacka_Novo_rk2;
        var x_Novo = xn + dtb*v0*cos_alfa;

    yn = y_Novo;
    xn = x_Novo;
    yTacka = yTacka_Novo;
}



function FunkcijaIspali() {
    if (Brojac == null) {
        InicijalizirajVarijable();
        Brojac = setInterval("IzracunajNacrtaj()",Vrijeme);
    }
}
function FunkcijaZaustavi() {
    clearInterval(Brojac);
    Brojac = null;
}
function FunkcijaResetuj() {
    Pripremi();
}



    
function NacrtajTacku(cl,x,y,r,color) {
    //
    // Namjesti putanju
    //
    cl.beginPath();
    cl.arc(x,y,r,0,2*Math.PI);

        temp = cl.fillStyle;
        cl.fillStyle = "red"; //boja tacke
        cl.fill();
        cl.fillStyle = temp;


}
// Funkcija za prikaz vrijednosti brzine:
    function PokaziPocetnuBrzinu() {
        IDPocetnaBrzina.innerHTML = SliderZaPocetnuBrzinu.value;
        IzracunajDomet();
        IzracunajMaxVisinu();
        IzracunajVrijemePada();
        }
// Funkcija za prikaz vrijednosti ugla:
    function PokaziUgao() {
        IDUgao.innerHTML = SliderZaUgao.value;
        IzracunajDomet();
        IzracunajMaxVisinu();
        IzracunajVrijemePada();
    }
// Funkcija za računanje i prikaz dometa:
    function IzracunajDomet(){
        InicijalizirajVarijable();
        DometVr=((2*v0*v0*sin_alfa*cos_alfa)/UbrzanjeZemljineGravitacije).toFixed(2);
         document.getElementById('IDDomet').innerHTML = DometVr;

         //to.Fixed(br) zaokruzuje broj na 2 decimale
    }
// Funkcija za računanje i prikaz Maksimalne brzine:
    function IzracunajMaxVisinu(){
        InicijalizirajVarijable();
        MaxVisinaVr=((v0*v0*sin_alfa*sin_alfa)/(2*UbrzanjeZemljineGravitacije)).toFixed(2);
         document.getElementById('IDVisina').innerHTML = MaxVisinaVr;
    }
// Funkcija za računanje i prikaz Vremena pada:
    function IzracunajVrijemePada(){
        InicijalizirajVarijable();
        VrijemePadaVr=((2*v0*sin_alfa)/UbrzanjeZemljineGravitacije).toFixed(2);
         document.getElementById('IDVrijemePada').innerHTML = VrijemePadaVr;
    }


</script>



            
    

</tbody></table></div></body></html>
